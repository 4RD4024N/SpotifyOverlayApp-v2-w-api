<Window x:Class="SpotifyOverlay.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Spotify Overlay" Height="180" Width="460"
        Background="Transparent" AllowsTransparency="True"
        WindowStyle="None" ResizeMode="NoResize"
        Topmost="True" ShowInTaskbar="False"
        WindowStartupLocation="Manual" Left="20" Top="20">

    <Window.Resources>
        <!-- Button Style -->
        <Style x:Key="ControlIconButton" TargetType="Button">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Background" Value="#DD2A2A2A"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="16">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF3C3C3C"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF505050"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border x:Name="rootBorder"
            CornerRadius="12"
            Background="#FF1E1E1E"
            Padding="8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Settings Button Top-Right -->
            <Button Grid.Column="2" Content="⚙" Click="Settings_Click"
                    Style="{StaticResource ControlIconButton}"
                    HorizontalAlignment="Center" VerticalAlignment="Center"/>

            <!-- Album Cover -->
            <Border Grid.Row="1" Grid.Column="0" Width="80" Height="80" CornerRadius="8" ClipToBounds="True" Margin="0,0,0,52">
                <Image x:Name="albumCover" Stretch="UniformToFill"/>
            </Border>

            <!-- Song Info -->
            <StackPanel Grid.Row="1" Grid.Column="1" Margin="10,0" VerticalAlignment="Center"/>

            <!-- Control Buttons -->
            <StackPanel Grid.Row="1" Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right"/>

            <!-- Progress and Volume -->
            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Bottom" Margin="292,0,-196,9" Grid.ColumnSpan="2">
                <TextBlock x:Name="elapsedTimeText" FontSize="11" Foreground="White"/>
                <TextBlock Text="/" FontSize="11" Foreground="White" Margin="4,0,4,0"/>
                <TextBlock x:Name="totalTimeText" FontSize="11" Foreground="White"/>
            </StackPanel>
            <ProgressBar x:Name="progressBar" Grid.Row="1" Grid.ColumnSpan="3" Height="4"
                         VerticalAlignment="Bottom"
                         Minimum="0" Maximum="100" Value="0"
                         Foreground="LimeGreen" Background="#444" BorderBrush="{x:Null}" Margin="0,0,0,5"/>
            <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="10,0,0,9" Grid.ColumnSpan="2">
                <TextBlock x:Name="volumeIcon" FontSize="13" Text="🔉"/>
                <ProgressBar x:Name="volumeBar" Width="100" Height="6" Margin="4,0,0,0"
                             Minimum="0" Maximum="100" Value="0"
                             Foreground="LightGreen" Background="#444" BorderBrush="{x:Null}"/>
            </StackPanel>
            <Button Content="⏮" Click="Previous_Click" Style="{StaticResource ControlIconButton}" ToolTip="Previous" Margin="256,34,44,66" Grid.Column="1" Grid.Row="1"/>
            <Button x:Name="playPauseButton" Content="▶️" Click="PlayPause_Click" Style="{StaticResource ControlIconButton}" ToolTip="Play/Pause" Margin="292,34,8,66" Grid.Column="1" Grid.Row="1"/>
            <Button Content="⏭" Click="Next_Click" Style="{StaticResource ControlIconButton}" ToolTip="Next" Grid.Column="1" Grid.ColumnSpan="2" Margin="328,34,4,66" Grid.Row="1"/>
            <TextBlock x:Name="songTitleText" FontSize="16" FontWeight="Bold" Foreground="White"
                           Text="Şarkı" TextTrimming="CharacterEllipsis" Grid.Column="1" Margin="5,10,76,101" Grid.Row="1"/>
            <TextBlock x:Name="artistText" FontSize="13" Foreground="#FFCCCCCC" Text="Sanatçı" Grid.Column="1" Margin="5,36,76,79" Grid.Row="1"/>
            <TextBlock x:Name="albumText" FontSize="11" Foreground="#FFAAAAAA" Text="Albüm" Grid.Column="1" Margin="5,58,76,59" Grid.Row="1"/>
        </Grid>
    </Border>
</Window>
